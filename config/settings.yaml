llm:
  flash_rpm: 10
  flash_lite_rpm: 15
  pro_rpm: 5

agents:
  screening_reviewer_a:
    model: "google-gla:gemini-2.5-flash-lite"
    temperature: 0.1
  screening_reviewer_b:
    model: "google-gla:gemini-2.0-flash"
    temperature: 0.1
  screening_adjudicator:
    model: "google-gla:gemini-2.5-pro"
    temperature: 0.2
  search:
    model: "google-gla:gemini-2.5-flash"
    temperature: 0.1
  extraction:
    model: "google-gla:gemini-2.5-pro"
    temperature: 0.1
  quality_assessment:
    model: "google-gla:gemini-2.5-pro"
    temperature: 0.2
  study_type_detection:
    model: "google-gla:gemini-2.5-flash"
    temperature: 0.2
  writing:
    model: "google-gla:gemini-2.5-pro"
    temperature: 0.2
  abstract_generation:
    model: "google-gla:gemini-2.5-flash"
    temperature: 0.2
  humanizer:
    model: "google-gla:gemini-2.5-pro"
    temperature: 0.3
  style_extraction:
    model: "google-gla:gemini-2.5-pro"
    temperature: 0.2

screening:
  stage1_include_threshold: 0.85
  stage1_exclude_threshold: 0.8
  keyword_filter_min_matches: 1
  skip_fulltext_if_no_pdf: true
  screening_concurrency: 5
  max_llm_screen: 100  # Set to cap LLM dual-review calls for cost control.

dual_review:
  enabled: true
  kappa_warning_threshold: 0.4
  # reviewer_b_model: overridden via agents.screening_reviewer_b.model above.
  # Reviewer A uses gemini-2.5-flash-lite; Reviewer B uses gemini-2.0-flash
  # for genuine cross-model validation (not just temperature variation).

gates:
  profile: "strict"
  search_volume_minimum: 50
  screening_minimum: 5
  extraction_completeness_threshold: 0.8
  extraction_max_empty_rate: 0.35
  cost_budget_max: 20.0

writing:
  style_extraction: true
  humanization: true
  humanization_iterations: 2
  naturalness_threshold: 0.75
  checkpoint_per_section: true
  llm_timeout: 120

risk_of_bias:
  rct_tool: "rob2"
  non_randomized_tool: "robins_i"
  qualitative_tool: "casp"

meta_analysis:
  enabled: true
  heterogeneity_threshold: 50
  funnel_plot_minimum_studies: 10
  effect_measure_dichotomous: "risk_ratio"
  effect_measure_continuous: "standardized_mean_difference"

ieee_export:
  enabled: true
  template: "IEEEtran"
  bibliography_style: "IEEEtran"
  max_abstract_words: 250
  target_page_range:
    - 7
    - 10

citation_lineage:
  block_export_on_unresolved: true
  minimum_evidence_score: 0.5

# Search depth: how many records to fetch per database connector.
# max_results_per_db is the global default; per_database_limits overrides
# it for individual connectors. Perplexity is capped internally at 20.
search:
  max_results_per_db: 500
  per_database_limits:
    crossref: 1000
    pubmed: 500
    semantic_scholar: 500
    openalex: 500
    arxiv: 200
    ieee_xplore: 200
    perplexity_search: 20
